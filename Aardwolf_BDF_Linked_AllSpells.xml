<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE muclient>
<!-- Saved on Saturday, June 10, 2023, 12:13 AM -->
<!-- MuClient version 5.07-pre -->

<!-- Plugin "Aardwolf_BDF_Linked_AllSpells" generated by Plugin Wizard -->

<!--
Requested by Fiendish - tech note 8352
-->

<muclient>
<plugin
   name="Aardwolf_BDF_Linked_AllSpells"
   author="Pmage"
   id="dc087c78d4a432f386c2dd89"
   language="Lua"
   purpose="Hyperlink allspells to helpfile"
   save_state="y"
   date_written="2023-06-10 00:12:06"
   requires="5.07"
   version="1.0"
   >
<description trim="y">
<![CDATA[
Omits ouput after script, takes allspells list and links it to helpfile. 
]]>
</description>

</plugin>


<!--  Triggers  -->

<triggers>
  <trigger
   group="allspellz"
   match="* means that you cannot use the skill/spell."
   name="allspellzend"
   send_to="12"
   sequence="100"
  >
  <send>Execute("echo AllZStop")
EnableTriggerGroup("allspellz", false)</send>
  </trigger>
  <trigger
   group="allspellz"
   match="^/*(.*?)\s.?(\d+)  (.*?) (.*)$"
   name="printspellz2"
   omit_from_output="y"
   regexp="y"
   send_to="14"
   sequence="100"
  >
  <send>local line = "%1" .."  ".. "%2" .."  ".. "%3" .." ".. "%4"
local spell = "%1"
-- print(" " .. "%1" .."  ".. "%2" .."  ".. "%3" .." ".. "%4")
-- print(spell)
-- print(line)

spell= string.gsub(spell, "*", "")
spell= string.gsub(spell, "  ", "")
spell = spell .. "'"
spell= string.gsub(spell, " '", "'")
local dohelp = "help '" .. spell 

-- print(dohelp)

-- execute", display", hover, textcolor, backgroundcolor
Hyperlink (dohelp, line, spell,"white", "black" , 0)

</send>
  </trigger>
  <trigger
   group="allspellz"
   match="^ (.*?)\s.?(\d+)  (.*?) (.*)$"
   name="printallspellz"
   omit_from_output="y"
   regexp="y"
   send_to="14"
   sequence="100"
  >
  <send>local line = " " .. "%1" .."  ".. "%2" .."  ".. "%3" .." ".. "%4"
local spell = "%1"
-- print(" " .. "%1" .."  ".. "%2" .."  ".. "%3" .." ".. "%4")
-- print(spell)
-- print(line)

spell= string.gsub(spell, "  ", "")
spell = spell .. "'"
spell= string.gsub(spell, " '", "'")
local dohelp = "help '" .. spell 

-- print(dohelp)

-- execute", display", hover, textcolor, backgroundcolor
Hyperlink (dohelp, line, spell,"white", "black" , 0)

</send>
  </trigger>
  <trigger
   enabled="y"
   group="allspellzstop"
   match="^AllZStop$"
   name="allspellzstop"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>EnableTriggerGroup("allspellz", false)
-- print("group disabled")</send>
  </trigger>
  <trigger
   enabled="y"
   group="allspellzstart"
   match="^AllZStart$"
   name="allspellzstart"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>EnableTriggerGroup("allspellz", true)
-- print("group nabled")</send>
  </trigger>
</triggers>

<!--  Aliases  -->

<aliases>
  <alias
   name="getallspells"
   match="asp"
   enabled="y"
   group="allspell"
   sequence="100"
  >
  <send>echo AllZStart
allspells</send>
  </alias>
  <alias
   name="getspells"
   match="asp *"
   enabled="y"
   group="allspell"
   sequence="100"
  >
  <send>echo AllZStart
allspells "%1"</send>
  </alias>
</aliases>



<!--  Plugin help  -->

<aliases>
  <alias
   script="OnHelp"
   match="Aardwolf_BDF_Linked_AllSpells:help"
   enabled="y"
  >
  </alias>
</aliases>

<script>
<![CDATA[
function OnHelp ()
  world.Note (world.GetPluginInfo (world.GetPluginID (), 3))
end

function OnPluginInstall()
	print("Plugin Initialized: " .. GetPluginName() )
	print("Alias - function " )
	print("asp - lists all spells" )
	print("asp * - lists all spells for target class (aka asp enchanter" )
end --endfunc
]]>
</script> 

</muclient>
